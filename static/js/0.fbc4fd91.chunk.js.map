{"version":3,"sources":["../node_modules/jparticles/lib/utils/index.js","../node_modules/jparticles/lib/common/constants.js","../node_modules/jparticles/lib/common/base.js","../node_modules/jparticles/lib/utils/checking.js","../node_modules/jparticles/lib/index.js","../node_modules/jparticles/lib/common/config.js","../node_modules/jparticles/lib/common/easing.js","../node_modules/jparticles/lib/common/events.js","../node_modules/jparticles/lib/utils/str-num.js","../node_modules/jparticles/lib/wave.js","../node_modules/jparticles/lib/utils/dom.js","../node_modules/jparticles/lib/utils/math.js","../node_modules/jparticles/lib/utils/misc.js","../node_modules/jparticles/lib/utils/random.js","../node_modules/jparticles/lib/line.js","../node_modules/jparticles/lib/common/polyfill.js","../node_modules/jparticles/lib/particle.js","../node_modules/jparticles/lib/snow.js","../node_modules/jparticles/lib/common/mask.js","../node_modules/jparticles/lib/wave-loading.js"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__exportStar","exports","p","prototype","hasOwnProperty","call","value","require","EVENT_NAMES_WAVE_LOADING","EVENT_NAMES","regExp","isRuntimeSupported","isIE8","defaultCanvasHeight","defaultCanvasWidth","objectCtorString","funcToString","orientationSupport","doublePi","piBy180","Math","PI","window","DeviceOrientationEvent","Function","toString","test","navigator","userAgent","trimAll","http","__spreadArray","to","from","i","il","length","j","__importDefault","mod","__esModule","config_1","constants_1","events_1","utils_1","Base","defaultConfig","selector","options","elements","isCanvasRemoved","isPaused","eventEmitter","default","isRunningSupported","container","isElement","document","querySelector","merge","canvas","createElement","ctx","getContext","innerHTML","appendChild","getColor","makeColorMethod","bootstrap","setCanvasDimension","observeCanvasRemoved","resizeEvent","init","draw","clearCanvasAndSetGlobalAttrs","canvasWidth","canvasHeight","clearRect","globalAlpha","opacity","color","colorLength","Array","isArray","isString","randomColor","floor","random","dpr","devicePixelRatio","width","getNumberValueOfStyle","height","style","scale","_this","observeElementRemoved","resizeHandler","removeEventListener","trigger","DESTROY","off","requestAnimationFrame","bind","resize","preCW","preCH","scaleX","scaleY","forEach","element","isPlainObject","x","y","RESIZE","addEventListener","pause","open","onDestroy","_a","args","_i","arguments","on","apply","onResize","isNil","isNull","isUndefined","isBoolean","isNumber","isFunction","typeChecking","type","proto","getPrototypeOf","Ctor","constructor","nodeType","__setModuleDefault","v","__importStar","result","utils","Events","easing","commonConfig","WaveLoading","Wave","Snow","Particle","Line","easing_1","line_1","particle_1","snow_1","wave_1","wave_loading_1","linear","_t","b","c","swing","t","d","easeInOutQuad","_x","listenerMap","eventName","listeners","listeners_1","listener","push","index","indexOf","splice","upperFirst","toFixed","pInt","s","radix","parseInt","num","digits","parseFloat","Number","str","replace","toUpperCase","substring","__extends","extendStatics","setPrototypeOf","__proto__","TypeError","String","__","mask_1","complexOptions","plainOptions","stdProperties","_super","waveLength","ownResizeEvent","optionsNormalize","loadMaskImage","createDots","property","rawValue","stdValue","scaleRange","getOptionDefaultValue","getOptionProcessedValue","randomInRange","range","calcQuantity","line","step","renderMaskMode","drawWaves","lines","crestHeight","offsetLeft","offsetTop","speed","save","beginPath","dot","sin","fill","lineTo","closePath","fillStyle","fillColor","lineWidth","strokeStyle","lineColor","stroke","restore","props","prop","array","updateComplexOptions","newValue","isArrayType","curValue","updatePlainOptions","option","setOptions","newOptions","crestCount","offset","checking_1","str_num_1","elem","attr","getComputedStyle","numberValue","match","bounding","getBoundingClientRect","left","pageXOffset","top","pageYOffset","MutationObserver","WebKitMutationObserver","checkElementRemoved","node","children","length_1","callback","mutations","observer","removeNodes","removedNodes","disconnect","observe","childList","subtree","DOMNodeRemoved","e","target","radiansToDegrees","degreesToRadians","degrees","radians","loadImage","objects","copyIsArray","src","url","successCallback","errorCallback","image","Image","max","min","randomSpeed","maxSpeed","minSpeed","slice","base_1","specificAngles","createLines","createLinesOnClick","number","positionX","maxWidth","minWidth","maxDegree","minDegree","degree","createOnClick","handleClick","event","pageX","numberOfCreations","_b","removeOnOverflow","overflowCompensation","reservedLines","lineLength","hypot","OC","radian","adjacentSide","includes","abs","tan","translate","rotate","moveTo","isOverflow","isOverflowOnLeft","win","webkitRequestAnimationFrame","mozRequestAnimationFrame","fn","setTimeout","containsInfinity","arg","Infinity","sqrt","mouseX","mouseY","positionY","defineLineShape","positionEvent","parallaxEvent","eventElem","proximity","lineShape","lineShapeMaker","sx","sy","cb","maxR","minR","parallaxLayer","layerLength","r","vx","vy","parallaxOffsetX","parallaxOffsetY","updateXY","arc","connectDots","_loop_1","sibDot","parallax","parallaxStrength","divisor","getEventElemOffset","eventProxy","move","orientation","handleOrientation","beta","gamma","handleMove","pageY","createSnowflakes","createSnowflake","swingAt","Date","now","count","swingInterval","swingProbability","snowflake","Mask","completedMap","mask","maskImage","mainDrawing","modeName","maskMode","modeNormal","drawMaskImage","globalCompositeOperation","modeGhost","filter","clip","originWidth","originHeight","imgScale","drawImage","plainOptionsWL","progress","isCompletedImmediately","fastStepValue","halfCH","setOffsetTop","setCanvasStyle","waveLoadingResizeEvent","_item","arr","borderRadius","calcProgress","FINISHED","PROGRESS","calcOffsetTop","drawText","font","textFormatter","textColor","text","measureText","textBaseline","fillText","progressThreshold","startTime","time","percent","duration","maxCrestHeight","ceil","done","onProgress","onFinished"],"mappings":"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","file":"static/js/0.fbc4fd91.chunk.js","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./checking\"), exports);\n__exportStar(require(\"./dom\"), exports);\n__exportStar(require(\"./math\"), exports);\n__exportStar(require(\"./misc\"), exports);\n__exportStar(require(\"./random\"), exports);\n__exportStar(require(\"./str-num\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENT_NAMES_WAVE_LOADING = exports.EVENT_NAMES = exports.regExp = exports.isRuntimeSupported = exports.isIE8 = exports.defaultCanvasHeight = exports.defaultCanvasWidth = exports.objectCtorString = exports.funcToString = exports.orientationSupport = exports.doublePi = exports.piBy180 = void 0;\nexports.piBy180 = Math.PI / 180;\nexports.doublePi = Math.PI * 2;\nexports.orientationSupport = !!window.DeviceOrientationEvent;\nexports.funcToString = Function.prototype.toString;\nexports.objectCtorString = exports.funcToString.call(Object);\nexports.defaultCanvasWidth = 485;\nexports.defaultCanvasHeight = 300;\nexports.isIE8 = /msie\\s8.0/i.test(navigator.userAgent);\nexports.isRuntimeSupported = !!Object.defineProperty && !exports.isIE8;\n// 正则列表\nexports.regExp = {\n    trimAll: /\\s/g,\n    http: /^(https?|\\/\\/)/i,\n};\n// 公共事件名列表\nvar EVENT_NAMES;\n(function (EVENT_NAMES) {\n    EVENT_NAMES[\"DESTROY\"] = \"DESTROY\";\n    EVENT_NAMES[\"RESIZE\"] = \"RESIZE\";\n})(EVENT_NAMES = exports.EVENT_NAMES || (exports.EVENT_NAMES = {}));\n// 事件名列表\nvar EVENT_NAMES_WAVE_LOADING;\n(function (EVENT_NAMES_WAVE_LOADING) {\n    EVENT_NAMES_WAVE_LOADING[\"PROGRESS\"] = \"PROGRESS\";\n    EVENT_NAMES_WAVE_LOADING[\"FINISHED\"] = \"FINISHED\";\n})(EVENT_NAMES_WAVE_LOADING = exports.EVENT_NAMES_WAVE_LOADING || (exports.EVENT_NAMES_WAVE_LOADING = {}));\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./polyfill\");\nvar config_1 = __importDefault(require(\"./config\"));\nvar constants_1 = require(\"./constants\");\nvar events_1 = __importDefault(require(\"./events\"));\nvar utils_1 = require(\"../utils/index\");\nvar Base = /** @class */ (function () {\n    function Base(defaultConfig, selector, options) {\n        // （粒子）数据集\n        this.elements = [];\n        // Canvas 是否从 DOM 中移除了\n        this.isCanvasRemoved = false;\n        // 是否暂停运动了\n        this.isPaused = false;\n        // 事件中心，文档参考 https://taro-docs.jd.com/taro/docs/apis/about/events/\n        this.eventEmitter = new events_1.default();\n        // 特效是否支持运行\n        this.isRunningSupported = false;\n        // 对于不支持运行特效的浏览器（如 IE8）将不支持创建特效\n        if (!constants_1.isRuntimeSupported)\n            return;\n        this.container = utils_1.isElement(selector)\n            ? selector\n            : document.querySelector(selector);\n        this.isRunningSupported = !!this.container;\n        if (this.container) {\n            this.options = utils_1.merge({}, config_1.default, defaultConfig, options);\n            this.canvas = document.createElement('canvas');\n            this.ctx = this.canvas.getContext('2d');\n            this.container.innerHTML = '';\n            this.container.appendChild(this.canvas);\n            // 缓存颜色获取函数，提高性能\n            this.getColor = this.makeColorMethod();\n        }\n    }\n    /**\n     * 引导程序\n     */\n    Base.prototype.bootstrap = function () {\n        if (this.isRunningSupported) {\n            this.setCanvasDimension();\n            this.observeCanvasRemoved();\n            this.resizeEvent();\n            this.init();\n            this.draw();\n        }\n    };\n    /**\n     * 清除整个画布\n     */\n    Base.prototype.clearCanvasAndSetGlobalAttrs = function () {\n        var _a = this, ctx = _a.ctx, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight;\n        ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n        ctx.globalAlpha = this.options.opacity;\n    };\n    /**\n     * 生成 \"getColor\" 函数\n     */\n    Base.prototype.makeColorMethod = function () {\n        var color = this.options.color;\n        var colorLength = Array.isArray(color) ? color.length : 0;\n        if (utils_1.isString(color)) {\n            return function () { return color; };\n        }\n        if (colorLength === 0) {\n            return utils_1.randomColor;\n        }\n        return function () { return color[Math.floor(Math.random() * colorLength)]; };\n    };\n    /**\n     * 设置画布尺寸\n     */\n    Base.prototype.setCanvasDimension = function () {\n        var dpr = window.devicePixelRatio;\n        var width = utils_1.getNumberValueOfStyle(this.container, 'width') || constants_1.defaultCanvasWidth;\n        var height = utils_1.getNumberValueOfStyle(this.container, 'height') || constants_1.defaultCanvasHeight;\n        this.canvasWidth = width;\n        this.canvasHeight = height;\n        // 设置设备分辨率，防止在高清屏显示模糊（Mac OS）\n        this.canvas.width = width * dpr;\n        this.canvas.height = height * dpr;\n        this.canvas.style.width = width + 'px';\n        this.canvas.style.height = height + 'px';\n        this.ctx.scale(dpr, dpr);\n    };\n    /**\n     * 监听画布从 DOM 中被移除时，做后期清理操作，如销毁事件等\n     */\n    Base.prototype.observeCanvasRemoved = function () {\n        var _this = this;\n        utils_1.observeElementRemoved(this.canvas, function () {\n            // 当 Canvas 从 DOM 中被移除\n            // 1、停止 requestAnimationFrame，避免性能损耗\n            _this.isCanvasRemoved = true;\n            // 2、移除绑定事件\n            if (_this.resizeHandler) {\n                window.removeEventListener('resize', _this.resizeHandler);\n            }\n            // 3、触发销毁回调事件\n            _this.eventEmitter.trigger(constants_1.EVENT_NAMES.DESTROY);\n            // 4、移除所有事件\n            _this.eventEmitter.off();\n        });\n    };\n    /**\n     * 简单包装 window.requestAnimationFrame\n     */\n    Base.prototype.requestAnimationFrame = function () {\n        if (!this.isPaused && !this.isCanvasRemoved) {\n            window.requestAnimationFrame(this.draw.bind(this));\n        }\n    };\n    /**\n     * 窗口尺寸调整事件\n     */\n    Base.prototype.resizeEvent = function () {\n        var _this = this;\n        if (this.options.resize) {\n            // 窗口尺寸改变处理函数，对应调整（粒子）位置\n            this.resizeHandler = function () {\n                var preCW = _this.canvasWidth;\n                var preCH = _this.canvasHeight;\n                // 重设画布尺寸\n                _this.setCanvasDimension();\n                // 缩放比例\n                var scaleX = _this.canvasWidth / preCW;\n                var scaleY = _this.canvasHeight / preCH;\n                // 通用处理逻辑，重新计算粒子坐标\n                _this.elements.forEach(function (element) {\n                    if (utils_1.isPlainObject(element)) {\n                        ;\n                        element.x *= scaleX;\n                        element.y *= scaleY;\n                    }\n                });\n                // 触发窗口缩放事件，可自定义更多逻辑\n                _this.eventEmitter.trigger(constants_1.EVENT_NAMES.RESIZE, scaleX, scaleY);\n                _this.isPaused && _this.draw();\n            };\n            window.addEventListener('resize', this.resizeHandler);\n        }\n    };\n    /**\n     * 暂停运动\n     */\n    Base.prototype.pause = function () {\n        if (this.isRunningSupported && !this.isCanvasRemoved && !this.isPaused) {\n            this.isPaused = true;\n        }\n    };\n    /**\n     * 开启运动\n     */\n    Base.prototype.open = function () {\n        if (this.isRunningSupported && !this.isCanvasRemoved && this.isPaused) {\n            this.isPaused = false;\n            this.draw();\n        }\n    };\n    /**\n     * 当 Canvas 从 DOM 中移除时触发的销毁回调事件\n     * @param args 参数集合\n     */\n    Base.prototype.onDestroy = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES.DESTROY], args));\n        // 让事件支持链式操作\n        return this;\n    };\n    /**\n     * 窗口尺寸改变时触发的回调事件\n     * @param args 参数集合\n     */\n    Base.prototype.onResize = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES.RESIZE], args));\n        // 让事件支持链式操作\n        return this;\n    };\n    return Base;\n}());\nexports.default = Base;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isElement = exports.isNil = exports.isNull = exports.isUndefined = exports.isBoolean = exports.isNumber = exports.isString = exports.isPlainObject = exports.isFunction = exports.typeChecking = void 0;\nvar constants_1 = require(\"../common/constants\");\n/**\n * 类型检测\n * @param value 目标值\n * @param type 预期类型\n */\nfunction typeChecking(value, type) {\n    // 直接使用 toString.call(value) 在 ie 会下报错\n    return Object.prototype.toString.call(value) === type;\n}\nexports.typeChecking = typeChecking;\n/**\n * 检测 value 是否为函数\n */\nfunction isFunction(value) {\n    return typeChecking(value, '[object Function]');\n}\nexports.isFunction = isFunction;\n/**\n * 检测 value 是否为纯对象，即 {} 或 new Object() 创建的对象\n * 参见 https://lodash.com/docs/4.17.15#isPlainObject\n */\nfunction isPlainObject(value) {\n    if (!typeChecking(value, '[object Object]')) {\n        return false;\n    }\n    // 过滤 Object.create(null)\n    var proto = Object.getPrototypeOf(value);\n    if (proto === null) {\n        return true;\n    }\n    // 过滤 Object.create({}) 与 new Foo()\n    var Ctor = Object.hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return (typeof Ctor === 'function' &&\n        Ctor instanceof Ctor &&\n        constants_1.funcToString.call(Ctor) === constants_1.objectCtorString);\n}\nexports.isPlainObject = isPlainObject;\n/**\n * 检测 value 是否为字符串\n */\nfunction isString(value) {\n    return typeof value === 'string';\n}\nexports.isString = isString;\n/**\n * 检测 value 是否为数值\n */\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\nexports.isNumber = isNumber;\n/**\n * 检测 value 是否为布尔值\n */\nfunction isBoolean(value) {\n    return typeof value === 'boolean';\n}\nexports.isBoolean = isBoolean;\n/**\n * 检测 value 是否为 Undefined\n */\nfunction isUndefined(value) {\n    return value === undefined;\n}\nexports.isUndefined = isUndefined;\n/**\n * 检测 value 是否为 Null\n */\nfunction isNull(value) {\n    return value === null;\n}\nexports.isNull = isNull;\n/**\n * 检测 value 是否为 Undefined 或者 Null\n */\nfunction isNil(value) {\n    return isUndefined(value) || isNull(value);\n}\nexports.isNil = isNil;\n/**\n * 检测 value 是否为 DOM 元素\n */\nfunction isElement(value) {\n    // 1、document(nodeType: 9) 元素不能判断为 element，因为它没有很多 element 该有的属性，\n    // 比如：getComputedStyle 获取不到它的宽高，就会报错。\n    // 2、当传入 0 的时候，不加 !! 会返回 0，而不是 Boolean 值\n    return !!(value && value.nodeType === 1);\n}\nexports.isElement = isElement;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utils = exports.Events = exports.easing = exports.commonConfig = exports.WaveLoading = exports.Wave = exports.Snow = exports.Particle = exports.Line = void 0;\nvar config_1 = __importDefault(require(\"./common/config\"));\nexports.commonConfig = config_1.default;\nvar easing_1 = __importDefault(require(\"./common/easing\"));\nexports.easing = easing_1.default;\nvar events_1 = __importDefault(require(\"./common/events\"));\nexports.Events = events_1.default;\nvar utils = __importStar(require(\"./utils/index\"));\nexports.utils = utils;\nvar line_1 = __importDefault(require(\"./line\"));\nexports.Line = line_1.default;\nvar particle_1 = __importDefault(require(\"./particle\"));\nexports.Particle = particle_1.default;\nvar snow_1 = __importDefault(require(\"./snow\"));\nexports.Snow = snow_1.default;\nvar wave_1 = __importDefault(require(\"./wave\"));\nexports.Wave = wave_1.default;\nvar wave_loading_1 = __importDefault(require(\"./wave-loading\"));\nexports.WaveLoading = wave_loading_1.default;\nexports.default = {\n    Line: line_1.default,\n    Particle: particle_1.default,\n    Snow: snow_1.default,\n    Wave: wave_1.default,\n    WaveLoading: wave_loading_1.default,\n    commonConfig: config_1.default,\n    easing: easing_1.default,\n    Events: events_1.default,\n    utils: utils,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 效果公共默认配置参数\n */\nexports.default = {\n    // 画布全局透明度 {number}\n    // 取值范围：[0, 1]\n    opacity: 1,\n    // 粒子颜色 {string|array}\n    // 1、空数组表示随机取色。\n    // 2、在特定颜色的数组里随机取色，如：['red', 'blue', 'green']。\n    // 3、当为 string 类型时，如：'red'，则表示粒子都填充为红色。\n    color: [],\n    // 自适应窗口尺寸变化 {boolean}\n    resize: true,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar easing = {\n    linear: function (x, _t, b, c) {\n        return b + (c - b) * x;\n    },\n    swing: function (x, t, b, c, d) {\n        return easing.easeInOutQuad(x, t, b, c, d);\n    },\n    easeInOutQuad: function (_x, t, b, c, d) {\n        if ((t /= d / 2) < 1)\n            return (c / 2) * t * t + b;\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n};\nexports.default = easing;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../utils/index\");\n/**\n * 事件机制，类似 NodeJS Events 模块\n * 使用文档参考 https://taro-docs.jd.com/taro/docs/apis/about/events/\n */\nvar Events = /** @class */ (function () {\n    function Events() {\n        this.listenerMap = {};\n    }\n    /**\n     * 绑定事件\n     * @param eventName 事件名称\n     * @param listeners 监听函数\n     */\n    Events.prototype.on = function (eventName) {\n        var listeners = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            listeners[_i - 1] = arguments[_i];\n        }\n        if (!this.listenerMap[eventName]) {\n            this.listenerMap[eventName] = [];\n        }\n        for (var _a = 0, listeners_1 = listeners; _a < listeners_1.length; _a++) {\n            var listener = listeners_1[_a];\n            if (utils_1.isFunction(listener)) {\n                this.listenerMap[eventName].push(listener);\n            }\n        }\n        return this;\n    };\n    /**\n     * 取消事件\n     * @param eventName 事件名称\n     * @param listener 监听函数\n     */\n    Events.prototype.off = function (eventName, listener) {\n        if (!eventName) {\n            // 移除所有事件\n            this.listenerMap = {};\n            return this;\n        }\n        if (!listener) {\n            // 移除事件名称所有事件\n            this.listenerMap[eventName] = [];\n            return this;\n        }\n        // 移除事件名称特定事件\n        var container = this.listenerMap[eventName];\n        var index = container.indexOf(listener);\n        if (index !== -1) {\n            container.splice(index, 1);\n        }\n        return this;\n    };\n    /**\n     * 触发事件\n     * @param eventName 事件名称\n     * @param args 参数\n     */\n    Events.prototype.trigger = function (eventName) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var listeners = this.listenerMap[eventName];\n        if (Array.isArray(listeners)) {\n            listeners.forEach(function (listener) {\n                listener.apply(void 0, args);\n            });\n        }\n        return this;\n    };\n    return Events;\n}());\nexports.default = Events;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.upperFirst = exports.trimAll = exports.toFixed = exports.pInt = void 0;\nvar constants_1 = require(\"../common/constants\");\n/**\n * 包装原生 parseInt，确保输出十进制数值\n */\nfunction pInt(s, radix) {\n    if (radix === void 0) { radix = 10; }\n    return parseInt(s, radix);\n}\nexports.pInt = pInt;\n/**\n * 包装原生 toFixed，确保输出数字而不是字符串\n */\nfunction toFixed(num, digits) {\n    if (digits === void 0) { digits = 0; }\n    return parseFloat(Number(num).toFixed(digits));\n}\nexports.toFixed = toFixed;\n/**\n * 移除字符串内所有空白，包括空格、空行、制表符\n */\nfunction trimAll(str) {\n    return str.replace(constants_1.regExp.trimAll, '');\n}\nexports.trimAll = trimAll;\n/**\n * 将字符串首字母转换成大写\n */\nfunction upperFirst(str) {\n    return str[0].toUpperCase() + str.substring(1);\n}\nexports.upperFirst = upperFirst;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = require(\"./common/constants\");\nvar mask_1 = __importDefault(require(\"./common/mask\"));\nvar utils_1 = require(\"./utils/index\");\n// 动态更新选项：复杂类型（合并赋值）\nvar complexOptions = [\n    'fill',\n    'fillColor',\n    'line',\n    'lineColor',\n    'lineWidth',\n    'offsetLeft',\n    'offsetTop',\n    'crestHeight',\n    'speed',\n];\n// 动态更新选项：简单类型（直接赋值）\nvar plainOptions = ['opacity', 'mask', 'maskMode'];\nvar stdProperties = __spreadArray(__spreadArray([], complexOptions), ['crestCount']);\nvar Wave = /** @class */ (function (_super) {\n    __extends(Wave, _super);\n    function Wave(selector, options) {\n        var _this = _super.call(this, Wave.defaultConfig, selector, options) || this;\n        // 波长，每个周期(2π)在 Canvas 上的实际长度\n        _this.waveLength = [];\n        _this.bootstrap();\n        return _this;\n    }\n    /**\n     * 初始化数据和运行程序\n     */\n    Wave.prototype.init = function () {\n        this.ownResizeEvent();\n        this.optionsNormalize();\n        this.loadMaskImage();\n        this.createDots();\n    };\n    /**\n     * 标准化配置项\n     */\n    Wave.prototype.optionsNormalize = function () {\n        var _this = this;\n        stdProperties.forEach(function (property) {\n            var num = _this.options.num;\n            // 选项原始值\n            var rawValue = _this.options[property];\n            // 选项标准值\n            var stdValue = [];\n            // 比例范围\n            var scaleRange = property === 'offsetLeft' ? _this.canvasWidth : _this.canvasHeight;\n            // 将数组、字符串、数字、布尔类型等属性标准化，利于内部代码编写\n            //\n            // 例如 num = 3 时，\n            //   crestHeight: 2或[]或[2]或[2, 2], 将标准化成: [2, 2, 2]\n            //   crestHeight: 没有传值时则使用默认值，将标准化成: [x, x, x], x表示默认值\n            while (num--) {\n                var value = Array.isArray(rawValue) ? rawValue[num] : rawValue;\n                stdValue[num] = utils_1.isUndefined(value)\n                    ? _this.getOptionDefaultValue(property)\n                    : Wave.getOptionProcessedValue(property, value, scaleRange);\n                if (property === 'crestCount') {\n                    _this.waveLength[num] = _this.canvasWidth / stdValue[num];\n                }\n            }\n            _this.options[property] = stdValue;\n        });\n    };\n    /**\n     * 配置项缺省情况下对应的默认值\n     * @param property 配置项属性\n     */\n    Wave.prototype.getOptionDefaultValue = function (property) {\n        var _a = this, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight;\n        switch (property) {\n            case 'lineColor':\n            case 'fillColor':\n                return utils_1.randomColor();\n            case 'lineWidth':\n                return utils_1.randomInRange(2, 0.2);\n            case 'offsetLeft':\n                return Math.random() * canvasWidth;\n            case 'offsetTop':\n            case 'crestHeight':\n                return Math.random() * canvasHeight;\n            case 'crestCount':\n                return utils_1.randomInRange(canvasWidth / 2, 1);\n            case 'speed':\n                return utils_1.randomInRange(0.4, 0.1);\n            case 'fill':\n                return false;\n            case 'line':\n                return true;\n        }\n    };\n    /**\n     * 获取配置项计算数值\n     * @param property 属性\n     * @param value 原始值\n     * @param range 范围值\n     */\n    Wave.getOptionProcessedValue = function (property, value, range) {\n        if (property === 'offsetTop' ||\n            property === 'offsetLeft' ||\n            property === 'crestHeight') {\n            return utils_1.calcQuantity(value, range);\n        }\n        return value;\n    };\n    /**\n     * 创建波浪线条像素点\n     */\n    Wave.prototype.createDots = function () {\n        var _a = this, canvasWidth = _a.canvasWidth, waveLength = _a.waveLength;\n        var num = this.options.num;\n        while (num--) {\n            var line = [];\n            // 点的 y 轴步进\n            var step = constants_1.doublePi / waveLength[num];\n            // 创建一条线段所需的点\n            for (var i = 0; i <= canvasWidth; i++) {\n                line.push({\n                    x: i,\n                    y: i * step,\n                });\n            }\n            this.elements[num] = line;\n        }\n    };\n    /**\n     * 绘图\n     */\n    Wave.prototype.draw = function () {\n        var _this = this;\n        this.clearCanvasAndSetGlobalAttrs();\n        this.renderMaskMode(function () {\n            _this.drawWaves();\n        });\n        this.requestAnimationFrame();\n    };\n    /**\n     * 绘制波浪效果\n     */\n    Wave.prototype.drawWaves = function () {\n        var _a = this, ctx = _a.ctx, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, isPaused = _a.isPaused;\n        var options = this.options;\n        this.elements.forEach(function (lines, i) {\n            var crestHeight = options.crestHeight[i];\n            var offsetLeft = options.offsetLeft[i];\n            var offsetTop = options.offsetTop[i];\n            var speed = options.speed[i];\n            ctx.save();\n            ctx.beginPath();\n            lines.forEach(function (dot, j) {\n                ctx[j ? 'lineTo' : 'moveTo'](dot.x, \n                // y = A sin ( ωx + φ ) + h\n                crestHeight * Math.sin(dot.y + offsetLeft) + offsetTop);\n                !isPaused && (dot.y -= speed);\n            });\n            // 填充\n            if (options.fill[i]) {\n                ctx.lineTo(canvasWidth, canvasHeight);\n                ctx.lineTo(0, canvasHeight);\n                ctx.closePath();\n                ctx.fillStyle = options.fillColor[i];\n                ctx.fill();\n            }\n            // 绘制线条边框\n            if (options.line[i]) {\n                ctx.lineWidth = options.lineWidth[i];\n                ctx.strokeStyle = options.lineColor[i];\n                ctx.stroke();\n            }\n            ctx.restore();\n        });\n    };\n    /**\n     * 窗口尺寸调整事件\n     */\n    Wave.prototype.ownResizeEvent = function () {\n        var _this = this;\n        var props = ['offsetLeft', 'offsetTop', 'crestHeight'];\n        var options = this.options;\n        this.onResize(function (scaleX, scaleY) {\n            // 调整选项缩放后的值\n            props.forEach(function (prop) {\n                var scale = prop === 'offsetLeft' ? scaleX : scaleY;\n                options[prop].forEach(function (value, i, array) {\n                    array[i] = value * scale;\n                });\n            });\n            // 调整点的坐标\n            _this.elements.forEach(function (lines) {\n                lines.forEach(function (dot) {\n                    dot.x *= scaleX;\n                    dot.y *= scaleY;\n                });\n            });\n        });\n    };\n    /**\n     * 更新复杂选项值（合并赋值）\n     * @param property 选项属性\n     * @param newValue 新值\n     */\n    Wave.prototype.updateComplexOptions = function (property, newValue) {\n        if (!newValue)\n            return;\n        var scaleRange = property === 'offsetLeft' ? this.canvasWidth : this.canvasHeight;\n        var options = this.options;\n        var isArrayType = Array.isArray(newValue);\n        options[property].forEach(function (curValue, i, array) {\n            var value = isArrayType ? newValue[i] : newValue;\n            value = Wave.getOptionProcessedValue(property, value, scaleRange);\n            // 未定义部分保持原有值\n            if (utils_1.isUndefined(value)) {\n                value = curValue;\n            }\n            array[i] = value;\n        });\n    };\n    /**\n     * 更新简单选项值（直接赋值）\n     * @param property 选项属性\n     * @param newValue 新值\n     */\n    Wave.prototype.updatePlainOptions = function (option, newValue) {\n        this.options[option] = newValue;\n        if (option === 'mask') {\n            this.loadMaskImage();\n        }\n    };\n    /**\n     * 动态设置 options 选项值\n     */\n    Wave.prototype.setOptions = function (newOptions) {\n        if (!this.isRunningSupported || !utils_1.isPlainObject(newOptions))\n            return;\n        for (var property in newOptions) {\n            if (Object.hasOwnProperty.call(newOptions, property)) {\n                if (plainOptions.indexOf(property) !== -1) {\n                    this.updatePlainOptions(property, newOptions[property]);\n                }\n                else if (complexOptions.indexOf(property) !== -1) {\n                    this.updateComplexOptions(property, newOptions[property]);\n                }\n            }\n        }\n    };\n    Wave.defaultConfig = {\n        // 波纹个数\n        num: 3,\n        // 是否填充背景色，设置为 false 相关值无效\n        fill: false,\n        // 填充的背景色，当 fill 设置为 true 时生效\n        fillColor: [],\n        // 是否绘制边框，设置为 false 相关值无效\n        line: true,\n        // 边框颜色，当 line 设置为 true 时生效，下同\n        lineColor: [],\n        // 边框宽度，空数组则随机 [.2, 2) 的宽度。\n        lineWidth: [],\n        // 波纹横向偏移值，距离 Canvas 左边缘的偏移值\n        // (0, 1) 表示容器宽度的倍数，0 & [1, +∞) 表示具体数值\n        offsetLeft: [],\n        // 波纹纵向偏移值，波纹中点距离 Canvas 顶部的距离\n        // (0, 1) 表示容器高度的倍数，0 & [1, +∞) 表示具体数值\n        offsetTop: [],\n        // 波峰高度，(0, 1) 表示容器高度的倍数，0 & [1, +∞) 表示具体数值\n        crestHeight: [],\n        // 波峰个数，即正弦周期个数，默认随机 [1, 0.2 * 容器宽度)\n        crestCount: [],\n        // 运动速度，默认随机 [.1, .4)\n        speed: [],\n    };\n    return Wave;\n}(mask_1.default));\nexports.default = Wave;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observeElementRemoved = exports.offset = exports.getNumberValueOfStyle = void 0;\nvar checking_1 = require(\"./checking\");\nvar str_num_1 = require(\"./str-num\");\n/**\n * 获取 DOM 元素数值类型的样式并返回取整后的数值\n * @param elem  DOM 元素\n * @param attr  CSS 属性\n */\nfunction getNumberValueOfStyle(elem, attr) {\n    var value = window.getComputedStyle(elem)[attr];\n    if (checking_1.isString(value)) {\n        // 匹配字符串的数字字符\n        var numberValue = value.match(/\\d+/);\n        if (numberValue) {\n            return str_num_1.pInt(numberValue[0]);\n        }\n    }\n}\nexports.getNumberValueOfStyle = getNumberValueOfStyle;\n/**\n * 获取 DOM 元素距离页面的 top、left 值\n * @param elem  DOM 元素\n */\nfunction offset(elem) {\n    var bounding = elem.getBoundingClientRect();\n    return {\n        left: window.pageXOffset + bounding.left,\n        top: window.pageYOffset + bounding.top,\n    };\n}\nexports.offset = offset;\n/**\n * 不管是 MutationObserver 还是 DOMNodeRemoved，\n * 当监听某个具体的元素时，如果祖先节点被删除了，并不会触发该元素被移除的事件，\n * 所以要监听整个文档，每次移除事件都得递归遍历要监听的元素是否被删除。\n */\nexports.observeElementRemoved = (function () {\n    var MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n    var checkElementRemoved = function (node, element) {\n        if (node === element) {\n            return true;\n        }\n        if (checking_1.isElement(node)) {\n            var children = node.children;\n            var length_1 = children.length;\n            while (length_1--) {\n                if (checkElementRemoved(children[length_1], element)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    var useMutation = function (element, callback) {\n        var observer = new MutationObserver(function (mutations, observer) {\n            var i = mutations.length;\n            while (i--) {\n                var removeNodes = mutations[i].removedNodes;\n                var j = removeNodes.length;\n                while (j--) {\n                    if (checkElementRemoved(removeNodes[j], element)) {\n                        observer.disconnect();\n                        return callback();\n                    }\n                }\n            }\n        });\n        observer.observe(document, {\n            childList: true,\n            subtree: true,\n        });\n    };\n    var useDOMNodeRemoved = function (element, callback) {\n        var DOMNodeRemoved = function (e) {\n            if (checkElementRemoved(e.target, element)) {\n                document.removeEventListener('DOMNodeRemoved', DOMNodeRemoved);\n                callback();\n            }\n        };\n        document.addEventListener('DOMNodeRemoved', DOMNodeRemoved);\n    };\n    return MutationObserver ? useMutation : useDOMNodeRemoved;\n})();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calcQuantity = exports.radiansToDegrees = exports.degreesToRadians = void 0;\nvar constants_1 = require(\"../common/constants\");\n/**\n * 角度转弧度\n */\nfunction degreesToRadians(degrees) {\n    return degrees * constants_1.piBy180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * 弧度转角度\n */\nfunction radiansToDegrees(radians) {\n    return radians / constants_1.piBy180;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * 根据「原始值」及「范围值」计算数量\n * 当原始值为 (0, 1) 时，返回原始值与范围值的倍数\n * 当原始值为 0 或 [1, +∞) 时，返回原始值\n * @param value  原始值\n * @param range  范围值\n */\nfunction calcQuantity(value, range) {\n    return value > 0 && value < 1 ? value * range : value;\n}\nexports.calcQuantity = calcQuantity;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadImage = exports.merge = void 0;\nvar checking_1 = require(\"./checking\");\n/**\n * 深拷贝，浅拷贝请使用 Object.assign 或 ECMAScript 扩展运算符\n * 1、API 参考 jQuery 深拷贝 https://api.jquery.com/jQuery.extend/#jQuery-extend-deep-target-object1-objectN\n * 2、数组合并采用替换方式，如\n *   merge({ a: [1, 2, 3] }, { a: [9, 8] }) => { a: [9, 8, 3] }\n */\nfunction merge() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    var length = objects.length;\n    var target = objects[0] || {};\n    for (var i = 0; i < length; i++) {\n        for (var prop in objects[i]) {\n            var value = objects[i][prop];\n            var copyIsArray = Array.isArray(value);\n            if (copyIsArray || checking_1.isPlainObject(value)) {\n                var src = target[prop];\n                if (copyIsArray) {\n                    src = Array.isArray(src) ? src : [];\n                }\n                else {\n                    src = checking_1.isPlainObject(src) ? src : {};\n                }\n                target[prop] = merge(src, value);\n            }\n            else {\n                target[prop] = value;\n            }\n        }\n    }\n    return target;\n}\nexports.merge = merge;\n/**\n * 加载图像\n * @param url 图像地址\n * @param successCallback 加载成功的回调函数\n * @param errorCallback 加载失败的回调函数\n */\nfunction loadImage(url, successCallback, errorCallback) {\n    var image = new Image();\n    image.addEventListener('load', function () { return successCallback(image); });\n    image.addEventListener('error', function (e) { return errorCallback === null || errorCallback === void 0 ? void 0 : errorCallback(e); });\n    image.src = url;\n}\nexports.loadImage = loadImage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomColor = exports.randomSpeed = exports.randomInRange = void 0;\n/**\n * 在指定范围内获取随机数\n */\nfunction randomInRange(max, min) {\n    return max === min ? max : Math.random() * (max - min) + min;\n}\nexports.randomInRange = randomInRange;\n/**\n * 获取随机速度，取最大或最小速度之间的随机值，并随机赋予正负值\n */\nfunction randomSpeed(maxSpeed, minSpeed) {\n    return ((randomInRange(maxSpeed, minSpeed) || maxSpeed) *\n        (Math.random() > 0.5 ? 1 : -1));\n}\nexports.randomSpeed = randomSpeed;\n/**\n * 获取随机颜色值，返回 16 进制色值\n */\nfunction randomColor() {\n    // http://stackoverflow.com/questions/1484506/random-color-generator-in-javascript\n    // prettier-ignore\n    return \"#\" + Math.random().toString(16).slice(-6);\n}\nexports.randomColor = randomColor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = __importDefault(require(\"./common/base\"));\nvar utils_1 = require(\"./utils/index\");\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line(selector, options) {\n        var _this = _super.call(this, Line.defaultConfig, selector, options) || this;\n        // 特殊角度\n        _this.specificAngles = [-180, -90, 0, 90, 180];\n        _this.bootstrap();\n        return _this;\n    }\n    /**\n     * 初始化数据和运行程序\n     */\n    Line.prototype.init = function () {\n        this.createLines(this.options.num);\n        this.createLinesOnClick();\n    };\n    /**\n     * 创建设定数量的线条\n     * @param number 数量\n     * @param positionX 线条的 x 坐标，没有则随机\n     */\n    Line.prototype.createLines = function (number, positionX) {\n        var _a = this.options, maxWidth = _a.maxWidth, minWidth = _a.minWidth, maxSpeed = _a.maxSpeed, minSpeed = _a.minSpeed, maxDegree = _a.maxDegree, minDegree = _a.minDegree;\n        while (number--) {\n            this.elements.push({\n                x: positionX !== null && positionX !== void 0 ? positionX : Math.random() * this.canvasWidth,\n                width: utils_1.randomInRange(maxWidth, minWidth),\n                color: this.getColor(),\n                speed: utils_1.randomSpeed(maxSpeed, minSpeed),\n                // 限制角度取值范围为 [-180, 180]\n                degree: utils_1.toFixed(utils_1.randomInRange(maxDegree, minDegree) % 180),\n            });\n        }\n    };\n    /**\n     * 点击的时候创建线条\n     */\n    Line.prototype.createLinesOnClick = function () {\n        var _this = this;\n        if (!this.options.createOnClick)\n            return;\n        var handleClick = function (event) {\n            if (_this.isPaused)\n                return;\n            var x = event.pageX - utils_1.offset(_this.canvas).left;\n            _this.createLines(_this.options.numberOfCreations, x);\n        };\n        this.canvas.addEventListener('click', handleClick);\n        this.onDestroy(function () {\n            _this.canvas.removeEventListener('click', handleClick);\n        });\n    };\n    Line.prototype.draw = function () {\n        var _this = this;\n        var _a = this, ctx = _a.ctx, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight;\n        var _b = this.options, removeOnOverflow = _b.removeOnOverflow, overflowCompensation = _b.overflowCompensation, reservedLines = _b.reservedLines;\n        this.clearCanvasAndSetGlobalAttrs();\n        // 以 Canvas 三角形计算出来的最长边的 10 倍长度作为线段的半长\n        var hypotenuse = Math.hypot(canvasWidth, canvasHeight);\n        var lineLength = hypotenuse * 10;\n        // 溢出补偿\n        var OC = Math.max(0, overflowCompensation);\n        this.elements.forEach(function (line, i) {\n            // 逆时针表示，3 点钟方向表示 0 度，12 点钟方向表示 90 度（即垂直），9 点钟方向表示 180 度。\n            var radian = utils_1.degreesToRadians(-line.degree);\n            // 可视区内角度邻边的长度\n            var adjacentSide = 0;\n            if (!_this.specificAngles.includes(line.degree)) {\n                adjacentSide = Math.abs(_this.canvasHeight / 2 / Math.tan(radian));\n            }\n            ctx.save();\n            ctx.beginPath();\n            // 通过 translate 将线段移动到指定位置\n            ctx.translate(line.x, _this.canvasHeight / 2);\n            ctx.rotate(radian);\n            // 在 (0, 0) 位置横向描绘线段\n            ctx.moveTo(-lineLength, 0);\n            ctx.lineTo(lineLength, 0);\n            // 设置线条宽度和颜色\n            ctx.lineWidth = line.width;\n            ctx.strokeStyle = line.color;\n            ctx.stroke();\n            ctx.closePath();\n            ctx.restore();\n            if (!_this.isPaused) {\n                line.x += line.speed;\n            }\n            var isOverflow = false;\n            var isOverflowOnLeft = false;\n            // 溢出补偿，让溢出多偏移一点才反向\n            if (line.x + adjacentSide + line.width + OC < 0) {\n                isOverflow = true;\n                isOverflowOnLeft = true;\n            }\n            else if (line.x > _this.canvasWidth + adjacentSide + line.width + OC) {\n                isOverflow = true;\n            }\n            if (isOverflow) {\n                if (removeOnOverflow && _this.elements.length > reservedLines) {\n                    // 溢出移除\n                    _this.elements.splice(i, 1);\n                }\n                else {\n                    // 溢出反向\n                    line.speed = Math.abs(line.speed) * (isOverflowOnLeft ? 1 : -1);\n                }\n            }\n        });\n        this.requestAnimationFrame();\n    };\n    Line.defaultConfig = {\n        num: 6,\n        maxWidth: 2,\n        minWidth: 1,\n        maxSpeed: 3,\n        minSpeed: 1,\n        maxDegree: 90,\n        minDegree: 80,\n        createOnClick: true,\n        numberOfCreations: 3,\n        removeOnOverflow: true,\n        overflowCompensation: 20,\n        reservedLines: 6,\n    };\n    return Line;\n}(base_1.default));\nexports.default = Line;\n","\"use strict\";\n// requestAnimationFrame\nwindow.requestAnimationFrame = (function (win) {\n    return (win.requestAnimationFrame ||\n        win.webkitRequestAnimationFrame ||\n        win.mozRequestAnimationFrame ||\n        function (fn) {\n            return win.setTimeout(fn, 1000 / 60);\n        });\n})(window);\n// Math.hypot\nif (!Math.hypot) {\n    Math.hypot = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var max = 0;\n        var s = 0;\n        var containsInfinity = false;\n        for (var i = 0; i < arguments.length; ++i) {\n            var arg = Math.abs(Number(args[i]));\n            if (arg === Infinity)\n                containsInfinity = true;\n            if (arg > max) {\n                s *= (max / arg) * (max / arg);\n                max = arg;\n            }\n            s += arg === 0 && max === 0 ? 0 : (arg / max) * (arg / max);\n        }\n        return containsInfinity\n            ? Infinity\n            : max === 1 / 0\n                ? 1 / 0\n                : max * Math.sqrt(s);\n    };\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = __importDefault(require(\"./common/base\"));\nvar constants_1 = require(\"./common/constants\");\nvar utils_1 = require(\"./utils/index\");\nvar Particle = /** @class */ (function (_super) {\n    __extends(Particle, _super);\n    function Particle(selector, options) {\n        var _this = _super.call(this, Particle.defaultConfig, selector, options) || this;\n        // 鼠标坐标 X\n        _this.mouseX = 0;\n        // 鼠标坐标 Y\n        _this.mouseY = 0;\n        _this.bootstrap();\n        return _this;\n    }\n    /**\n     * 初始化数据和运行程序\n     */\n    Particle.prototype.init = function () {\n        this.ownResizeEvent();\n        this.optionsNormalize();\n        if (this.options.range > 0) {\n            // 定位点坐标\n            this.positionX = Math.random() * this.canvasWidth;\n            this.positionY = Math.random() * this.canvasHeight;\n            this.defineLineShape();\n            this.positionEvent();\n        }\n        // 初始化鼠标在视差上的坐标\n        this.mouseX = this.mouseY = 0;\n        this.parallaxEvent();\n        // 创建粒子\n        this.createDots();\n    };\n    /**\n     * 标准化配置参数，参考 calcQuantity 方法描述。\n     * 如:\n     *   num: 0.5  =>  表示 0.5 倍画布宽度  =>  标准化为具体数值，如 100\n     *   num: 100  =>  表示具体数值  => 标准化结果还是 100\n     */\n    Particle.prototype.optionsNormalize = function () {\n        var _a = this, canvasWidth = _a.canvasWidth, options = _a.options;\n        var props = ['num', 'proximity', 'range'];\n        props.forEach(function (prop) {\n            options[prop] = utils_1.pInt(utils_1.calcQuantity(options[prop], canvasWidth));\n        });\n        // 设置触发事件的元素\n        if (!utils_1.isElement(options.eventElem) && options.eventElem !== document) {\n            options.eventElem = this.canvas;\n        }\n    };\n    /**\n     * 根据配置参数生成对应形状的连线函数\n     */\n    Particle.prototype.defineLineShape = function () {\n        var _this = this;\n        var _a = this.options, proximity = _a.proximity, range = _a.range, lineShape = _a.lineShape;\n        switch (lineShape) {\n            case 'cube':\n                this.lineShapeMaker = function (x, y, sx, sy, cb) {\n                    var _a = _this, positionX = _a.positionX, positionY = _a.positionY;\n                    if (Math.abs(x - sx) <= proximity &&\n                        Math.abs(y - sy) <= proximity &&\n                        Math.abs(x - positionX) <= range &&\n                        Math.abs(y - positionY) <= range &&\n                        Math.abs(sx - positionX) <= range &&\n                        Math.abs(sy - positionY) <= range) {\n                        cb();\n                    }\n                };\n                break;\n            default:\n                this.lineShapeMaker = function (x, y, sx, sy, cb) {\n                    var _a = _this, positionX = _a.positionX, positionY = _a.positionY;\n                    if (Math.abs(x - sx) <= proximity &&\n                        Math.abs(y - sy) <= proximity &&\n                        ((Math.abs(x - positionX) <= range &&\n                            Math.abs(y - positionY) <= range) ||\n                            (Math.abs(sx - positionX) <= range &&\n                                Math.abs(sy - positionY) <= range))) {\n                        cb();\n                    }\n                };\n        }\n    };\n    /**\n     * 根据配置参数创建许多粒子（纯数据）\n     * 最后通过 draw 函数绘制真实可见的图形\n     */\n    Particle.prototype.createDots = function () {\n        var _a = this, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, getColor = _a.getColor;\n        var _b = this.options, maxR = _b.maxR, minR = _b.minR, maxSpeed = _b.maxSpeed, minSpeed = _b.minSpeed, parallaxLayer = _b.parallaxLayer;\n        var layerLength = parallaxLayer.length;\n        var num = this.options.num;\n        while (num--) {\n            var r = utils_1.randomInRange(maxR, minR);\n            this.elements.push({\n                r: r,\n                x: utils_1.randomInRange(canvasWidth - r, r),\n                y: utils_1.randomInRange(canvasHeight - r, r),\n                vx: utils_1.randomSpeed(maxSpeed, minSpeed),\n                vy: utils_1.randomSpeed(maxSpeed, minSpeed),\n                color: getColor(),\n                // 定义粒子在视差图层里的层数及每层的层级大小\n                parallaxLayer: parallaxLayer[Math.floor(Math.random() * layerLength)],\n                // 定义粒子视差的偏移值\n                parallaxOffsetX: 0,\n                parallaxOffsetY: 0,\n            });\n        }\n    };\n    /**\n     * 绘制粒子\n     */\n    Particle.prototype.draw = function () {\n        var ctx = this.ctx;\n        var lineWidth = this.options.lineWidth;\n        this.clearCanvasAndSetGlobalAttrs();\n        // 当 canvas 宽高改变的时候，全局属性需要重新设置\n        ctx.lineWidth = lineWidth;\n        // 更新粒子坐标\n        this.updateXY();\n        // 绘制粒子\n        this.elements.forEach(function (dot) {\n            var x = dot.x, y = dot.y, r = dot.r, parallaxOffsetX = dot.parallaxOffsetX, parallaxOffsetY = dot.parallaxOffsetY;\n            ctx.save();\n            ctx.beginPath();\n            ctx.arc(x + parallaxOffsetX, y + parallaxOffsetY, r, 0, constants_1.doublePi);\n            ctx.fillStyle = dot.color;\n            ctx.fill();\n            ctx.restore();\n        });\n        // 连接粒子\n        this.connectDots();\n        // 循环绘制\n        this.requestAnimationFrame();\n    };\n    /**\n     * 连接粒子，绘制线段\n     */\n    Particle.prototype.connectDots = function () {\n        // 当连接范围小于 0 时，不连接线段\n        if (this.options.range <= 0)\n            return;\n        var _a = this, elements = _a.elements, ctx = _a.ctx, lineShapeMaker = _a.lineShapeMaker;\n        var length = elements.length;\n        elements.forEach(function (dot, i) {\n            var x = dot.x + dot.parallaxOffsetX;\n            var y = dot.y + dot.parallaxOffsetY;\n            var _loop_1 = function () {\n                var sibDot = elements[i];\n                var sx = sibDot.x + sibDot.parallaxOffsetX;\n                var sy = sibDot.y + sibDot.parallaxOffsetY;\n                lineShapeMaker === null || lineShapeMaker === void 0 ? void 0 : lineShapeMaker(x, y, sx, sy, function () {\n                    ctx.save();\n                    ctx.beginPath();\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(sx, sy);\n                    ctx.strokeStyle = dot.color;\n                    ctx.stroke();\n                    ctx.restore();\n                });\n            };\n            while (++i < length) {\n                _loop_1();\n            }\n        });\n    };\n    /**\n     * 更新粒子坐标\n     */\n    Particle.prototype.updateXY = function () {\n        var _a = this, isPaused = _a.isPaused, mouseX = _a.mouseX, mouseY = _a.mouseY, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight;\n        var _b = this.options, parallax = _b.parallax, parallaxStrength = _b.parallaxStrength;\n        // 暂停的时候，vx 和 vy 保持不变，\n        // 防止自适应窗口变化时出现粒子移动\n        if (isPaused)\n            return;\n        this.elements.forEach(function (dot) {\n            if (parallax) {\n                // https://github.com/jnicol/particleground/blob/master/jquery.particleground.js#L279-L282\n                var divisor = parallaxStrength * dot.parallaxLayer;\n                dot.parallaxOffsetX += (mouseX / divisor - dot.parallaxOffsetX) / 10;\n                dot.parallaxOffsetY += (mouseY / divisor - dot.parallaxOffsetY) / 10;\n            }\n            dot.x += dot.vx;\n            dot.y += dot.vy;\n            var r = dot.r, parallaxOffsetX = dot.parallaxOffsetX, parallaxOffsetY = dot.parallaxOffsetY;\n            var x = dot.x, y = dot.y;\n            x += parallaxOffsetX;\n            y += parallaxOffsetY;\n            // 自然碰撞反向，视差事件移动反向\n            if (x + r >= canvasWidth) {\n                dot.vx = -Math.abs(dot.vx);\n            }\n            else if (x - r <= 0) {\n                dot.vx = Math.abs(dot.vx);\n            }\n            if (y + r >= canvasHeight) {\n                dot.vy = -Math.abs(dot.vy);\n            }\n            else if (y - r <= 0) {\n                dot.vy = Math.abs(dot.vy);\n            }\n        });\n    };\n    /**\n     * 获取绑定的 DOM 元素（eventElem）的 offset 值\n     */\n    Particle.prototype.getEventElemOffset = function () {\n        var eventElem = this.options.eventElem;\n        return eventElem === document ? null : utils_1.offset(eventElem);\n    };\n    /**\n     * 事件代理\n     * @param move  移动事件处理函数\n     * @param orientation  陀螺仪事件处理函数\n     */\n    Particle.prototype.eventProxy = function (move, orientation) {\n        var _this = this;\n        var eventElem = this.options.eventElem;\n        var handleOrientation;\n        if (constants_1.orientationSupport) {\n            handleOrientation = function (e) {\n                if (_this.isPaused || utils_1.isNull(e.beta))\n                    return;\n                // 转换 beta 范围 [-180, 180] 成 [-90, 90]\n                orientation(Math.min(Math.max(e.beta, -90), 90), e.gamma);\n            };\n            window.addEventListener('deviceorientation', handleOrientation);\n        }\n        var handleMove = function (e) {\n            if (_this.isPaused)\n                return;\n            var left = e.pageX;\n            var top = e.pageY;\n            var offset = _this.getEventElemOffset();\n            if (offset) {\n                left -= offset.left;\n                top -= offset.top;\n            }\n            move(left, top);\n        };\n        eventElem.addEventListener('mousemove', handleMove);\n        // 实例销毁时移除绑定的事件\n        this.onDestroy(function () {\n            window.removeEventListener('deviceorientation', handleOrientation);\n            eventElem.removeEventListener('mousemove', handleMove);\n        });\n    };\n    /**\n     * 鼠标位置事件，根据鼠标的坐标将范围内的粒子连接起来\n     */\n    Particle.prototype.positionEvent = function () {\n        var _this = this;\n        var range = this.options.range;\n        // 性能优化\n        if (range > this.canvasWidth && range > this.canvasHeight)\n            return;\n        this.eventProxy(\n        // 鼠标移动事件\n        function (left, top) {\n            _this.positionX = left;\n            _this.positionY = top;\n        }, \n        // 陀螺仪事件\n        function (beta, gamma) {\n            _this.positionX = (-(gamma - 90) / 180) * _this.canvasWidth;\n            _this.positionY = (-(beta - 90) / 180) * _this.canvasHeight;\n        });\n    };\n    /**\n     * 视差效果事件\n     */\n    Particle.prototype.parallaxEvent = function () {\n        var _this = this;\n        if (!this.options.parallax)\n            return;\n        this.eventProxy(function (left, top) {\n            _this.mouseX = left - _this.canvasWidth / 2;\n            _this.mouseY = top - _this.canvasHeight / 2;\n        }, function (beta, gamma) {\n            // 一半高度或宽度的对应比例值\n            // mouseX: - gamma / 90 * canvasWidth / 2;\n            // mouseY: - beta / 90 * canvasHeight / 2;\n            _this.mouseX = (-gamma * _this.canvasWidth) / 180;\n            _this.mouseY = (-beta * _this.canvasHeight) / 180;\n        });\n    };\n    /**\n     * 窗口尺寸调整事件\n     */\n    Particle.prototype.ownResizeEvent = function () {\n        var _this = this;\n        this.onResize(function (scaleX, scaleY) {\n            if (_this.options.range > 0) {\n                _this.positionX *= scaleX;\n                _this.positionY *= scaleY;\n                _this.mouseX *= scaleX;\n                _this.mouseY *= scaleY;\n            }\n        });\n    };\n    Particle.defaultConfig = {\n        // 粒子个数，默认为容器宽度的 0.12 倍\n        // (0, 1) 显示为容器宽度相应倍数的个数，0 & [1, +∞) 显示具体个数\n        // 0 是没有意义的\n        num: 0.12,\n        // 粒子最大半径(0, +∞)\n        maxR: 2.4,\n        // 粒子最小半径(0, +∞)\n        minR: 0.6,\n        // 粒子最大运动速度(0, +∞)\n        maxSpeed: 1,\n        // 粒子最小运动速度(0, +∞)\n        minSpeed: 0.1,\n        // 两点连线的最大值\n        // 在 range 范围内的两点距离小于 proximity，则两点之间连线\n        // (0, 1) 显示为容器宽度相应倍数的个数，0 & [1, +∞) 显示具体个数\n        proximity: 0.2,\n        // 定位点的范围，范围越大连线越多\n        // 当 range 等于 0 时，不连线，相关值无效\n        // (0, 1) 显示为容器宽度相应倍数的个数，0 & [1, +∞) 显示具体个数\n        range: 0.2,\n        // 线段的宽度\n        lineWidth: 0.2,\n        // 连线的形状\n        // spider: 散开的蜘蛛状\n        // cube: 合拢的立方体状\n        lineShape: 'spider',\n        // 改变定位点坐标的事件元素\n        // null 表示 canvas 画布，或传入原生元素对象，如 document 等\n        eventElem: null,\n        // 视差效果 {boolean}\n        parallax: false,\n        // 定义粒子在视差图层里的层数及每层的层级大小，类似 css 里的 z-index。\n        // 取值范围: [0, +∞)，值越小视差效果越强烈，0 则不动。\n        // 定义四层粒子示例：[1, 3, 5, 10]\n        parallaxLayer: [1, 2, 3],\n        // 视差强度，值越小视差效果越强烈\n        parallaxStrength: 3,\n    };\n    return Particle;\n}(base_1.default));\nexports.default = Particle;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = __importDefault(require(\"./common/base\"));\nvar constants_1 = require(\"./common/constants\");\nvar utils_1 = require(\"./utils/index\");\nvar Snow = /** @class */ (function (_super) {\n    __extends(Snow, _super);\n    function Snow(selector, options) {\n        var _this = _super.call(this, Snow.defaultConfig, selector, options) || this;\n        _this.bootstrap();\n        return _this;\n    }\n    /**\n     * 初始化数据和运行程序\n     */\n    Snow.prototype.init = function () {\n        this.createSnowflakes();\n    };\n    /**\n     * 创建单个雪花，包含大小、位置、速度等信息\n     */\n    Snow.prototype.createSnowflake = function () {\n        var _a = this.options, maxR = _a.maxR, minR = _a.minR, maxSpeed = _a.maxSpeed, minSpeed = _a.minSpeed;\n        var r = utils_1.randomInRange(maxR, minR);\n        return {\n            r: r,\n            x: Math.random() * this.canvasWidth,\n            y: -r,\n            vx: utils_1.randomSpeed(maxSpeed, minSpeed),\n            // 半径越大，垂直速度越快，这样比较有近快远慢的层次效果\n            vy: Math.abs(r * utils_1.randomSpeed(maxSpeed, minSpeed)),\n            color: this.getColor(),\n            swingAt: Date.now(),\n        };\n    };\n    /**\n     * 随机创建雪花\n     */\n    Snow.prototype.createSnowflakes = function () {\n        var count = Math.max(0, utils_1.pInt(Math.random() * this.options.num));\n        while (count--) {\n            this.elements.push(this.createSnowflake());\n        }\n    };\n    /**\n     * 绘图\n     */\n    Snow.prototype.draw = function () {\n        var _this = this;\n        var _a = this, ctx = _a.ctx, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, isPaused = _a.isPaused;\n        var _b = this.options, maxR = _b.maxR, swing = _b.swing, swingInterval = _b.swingInterval, swingProbability = _b.swingProbability;\n        this.clearCanvasAndSetGlobalAttrs();\n        this.elements.forEach(function (snowflake, i, array) {\n            var x = snowflake.x, y = snowflake.y, r = snowflake.r;\n            ctx.save();\n            ctx.beginPath();\n            ctx.arc(x, y, r, 0, constants_1.doublePi);\n            ctx.fillStyle = snowflake.color;\n            ctx.fill();\n            ctx.restore();\n            if (!isPaused) {\n                snowflake.x += snowflake.vx;\n                snowflake.y += snowflake.vy;\n                // 变换飘落方向，根据一定的几率\n                if (swing &&\n                    Date.now() - snowflake.swingAt > swingInterval &&\n                    // 半径越小，变换几率越小\n                    Math.random() < (r / maxR) * swingProbability) {\n                    snowflake.swingAt = Date.now();\n                    snowflake.vx *= -1;\n                }\n                if (x < 0 || x - r > canvasWidth) {\n                    // 雪花从侧边出去，删除再添加一个\n                    array.splice(i, 1, _this.createSnowflake());\n                }\n                else if (y - r > canvasHeight) {\n                    // 雪花从底部出去，删除\n                    array.splice(i, 1);\n                }\n            }\n        });\n        // 添加雪花\n        if (!isPaused && Math.random() > 0.9) {\n            this.createSnowflakes();\n        }\n        this.requestAnimationFrame();\n    };\n    Snow.defaultConfig = {\n        num: 6,\n        color: '#fff',\n        maxR: 6.5,\n        minR: 0.5,\n        maxSpeed: 0.6,\n        minSpeed: 0.1,\n        swing: true,\n        swingInterval: 2000,\n        swingProbability: 0.06,\n    };\n    return Snow;\n}(base_1.default));\nexports.default = Snow;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = __importDefault(require(\"./base\"));\nvar utils_1 = require(\"../utils/index\");\nvar Mask = /** @class */ (function (_super) {\n    __extends(Mask, _super);\n    function Mask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // 已经加载成功的图像列表\n        _this.completedMap = {};\n        return _this;\n    }\n    /**\n     * 加载遮罩图像\n     * @TODO 加载错误重试\n     */\n    Mask.prototype.loadMaskImage = function () {\n        var _this = this;\n        var mask = this.options.mask;\n        if (!mask)\n            return;\n        if (utils_1.isString(mask)) {\n            // 取缓存图像\n            if (this.completedMap[mask]) {\n                this.maskImage = this.completedMap[mask];\n                return;\n            }\n            utils_1.loadImage(mask, function (image) {\n                _this.completedMap[mask] = image;\n                _this.maskImage = image;\n            });\n        }\n        else {\n            this.maskImage = mask;\n        }\n    };\n    Mask.prototype.renderMaskMode = function (mainDrawing) {\n        if (!this.maskImage) {\n            mainDrawing();\n            return;\n        }\n        var modeName = this.options.maskMode || 'normal';\n        this.ctx.save();\n        this[\"mode\" + utils_1.upperFirst(modeName)](mainDrawing);\n        this.ctx.restore();\n    };\n    /**\n     * 常规遮罩或无遮罩模式\n     */\n    Mask.prototype.modeNormal = function (mainDrawing) {\n        this.drawMaskImage();\n        // 设置图形组合模式，将效果映射到遮罩内\n        this.ctx.globalCompositeOperation = 'source-atop';\n        mainDrawing();\n    };\n    /**\n     * 幽灵遮罩模式：\n     *   1、用遮罩图片生成灰色背景\n     *   2、用波纹 clip 出原始遮罩图片\n     */\n    Mask.prototype.modeGhost = function (mainDrawing) {\n        // 绘制灰色背景\n        this.ctx.save();\n        this.ctx.filter = 'grayscale(100%)';\n        this.drawMaskImage();\n        this.ctx.restore();\n        // 设置图形组合模式，将效果映射到遮罩内\n        this.ctx.globalCompositeOperation = 'source-atop';\n        // 绘制原始图案\n        mainDrawing();\n        this.ctx.clip();\n        this.drawMaskImage();\n    };\n    /**\n     * 绘制遮罩图案，遮罩图像填充模式为 contain 且居中\n     */\n    Mask.prototype.drawMaskImage = function () {\n        if (!this.maskImage)\n            return;\n        var _a = this, ctx = _a.ctx, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, maskImage = _a.maskImage;\n        var originWidth = maskImage.width;\n        var originHeight = maskImage.height;\n        var imgScale = originWidth / originHeight;\n        // 图像填充算法: contain 模式\n        var width = originWidth > canvasWidth ? canvasWidth : originWidth;\n        var height = originHeight > canvasHeight ? canvasHeight : originHeight;\n        if (originWidth > originHeight) {\n            height = width / imgScale;\n        }\n        else {\n            width = height * imgScale;\n        }\n        // 居中处理\n        var x = (canvasWidth - width) / 2;\n        var y = (canvasHeight - height) / 2;\n        ctx.drawImage(maskImage, 0, 0, originWidth, originHeight, x, y, width, height);\n    };\n    return Mask;\n}(base_1.default));\nexports.default = Mask;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = require(\"./common/constants\");\nvar easing_1 = __importDefault(require(\"./common/easing\"));\nvar utils_1 = require(\"./utils/index\");\nvar wave_1 = __importDefault(require(\"./wave\"));\nvar plainOptionsWL = [\n    'font',\n    'textColor',\n    'textFormatter',\n    'borderRadius',\n];\nvar WaveLoading = /** @class */ (function (_super) {\n    __extends(WaveLoading, _super);\n    function WaveLoading(selector, options) {\n        var _this = _super.call(this, selector, utils_1.merge({}, WaveLoading.defaultConfig, options)) || this;\n        // 当前进度\n        _this.progress = 0;\n        // 是否立即完成\n        _this.isCompletedImmediately = false;\n        // 立即完成时的进度步进值\n        _this.fastStepValue = 1;\n        return _this;\n    }\n    /**\n     * 初始化数据和运行程序\n     */\n    WaveLoading.prototype.init = function () {\n        this.halfCH = this.canvasHeight / 2;\n        // WaveLoading methods\n        this.setOffsetTop(this.canvasHeight);\n        this.setCanvasStyle();\n        // Wave methods\n        this.ownResizeEvent();\n        this.optionsNormalize();\n        this.loadMaskImage();\n        this.createDots();\n        // WaveLoading resize 事件需要放到 Wave 的后面\n        this.waveLoadingResizeEvent();\n    };\n    /**\n     * 设置 offsetTop 值\n     * @param top 高度值\n     */\n    WaveLoading.prototype.setOffsetTop = function (top) {\n        var offsetTop = this.options.offsetTop;\n        if (Array.isArray(offsetTop)) {\n            offsetTop.forEach(function (_item, i, arr) {\n                arr[i] = top;\n            });\n        }\n        else {\n            this.options.offsetTop = top;\n        }\n    };\n    /**\n     * 设置画布 CSS 样式\n     */\n    WaveLoading.prototype.setCanvasStyle = function () {\n        this.canvas.style.borderRadius = this.options.borderRadius;\n    };\n    /**\n     * 绘制入口：计算进度，绘制波纹等\n     */\n    WaveLoading.prototype.draw = function () {\n        this.calcProgress();\n        if (this.progress < 100) {\n            this.mainDrawing();\n            this.requestAnimationFrame();\n        }\n        else {\n            this.progress = 100;\n            this.mainDrawing();\n            this.eventEmitter.trigger(constants_1.EVENT_NAMES_WAVE_LOADING.FINISHED);\n        }\n    };\n    /**\n     * 绘制图案\n     */\n    WaveLoading.prototype.mainDrawing = function () {\n        var _this = this;\n        this.eventEmitter.trigger(constants_1.EVENT_NAMES_WAVE_LOADING.PROGRESS, this.progress);\n        this.calcOffsetTop();\n        this.clearCanvasAndSetGlobalAttrs();\n        // 调用 Wave 方法\n        this.renderMaskMode(function () {\n            _this.drawWaves();\n        });\n        // 调用 WaveLoading 方法\n        this.drawText();\n    };\n    /**\n     * 绘制进度文本\n     */\n    WaveLoading.prototype.drawText = function () {\n        var _a = this, ctx = _a.ctx, canvasWidth = _a.canvasWidth, halfCH = _a.halfCH, progress = _a.progress;\n        var _b = this.options, font = _b.font, textFormatter = _b.textFormatter, textColor = _b.textColor;\n        if (!utils_1.isString(textFormatter) || !textFormatter)\n            return;\n        // 替换文本模板真实值\n        var text = textFormatter.replace(/%d/g, String(Math.floor(progress)));\n        ctx.save();\n        ctx.font = font;\n        var textWidth = ctx.measureText(text).width;\n        var x = (canvasWidth - textWidth) / 2;\n        ctx.textBaseline = 'middle';\n        ctx.fillStyle = textColor;\n        ctx.font = font;\n        ctx.fillText(text, x, halfCH);\n        ctx.restore();\n    };\n    /**\n     * 计算进度值\n     */\n    WaveLoading.prototype.calcProgress = function () {\n        // 立即完成逻辑，采用快速步进值计算进度\n        if (this.isCompletedImmediately) {\n            this.progress += this.fastStepValue;\n            this.fastStepValue += 0.5;\n            return;\n        }\n        // 悬停 99% 时，跳出计算，减少性能损耗\n        if (this.progress >= WaveLoading.progressThreshold)\n            return;\n        if (!this.startTime) {\n            this.startTime = Date.now();\n        }\n        // x: percent complete      percent complete: elapsedTime / duration\n        // t: elapsed time          elapsed time: currentTime - startTime\n        // b: beginning value       start value\n        // c: change in value       finish value\n        // d: duration              duration\n        var time = Date.now() - this.startTime;\n        var percent = time / this.options.duration;\n        if (percent <= 1) {\n            this.progress = easing_1.default[this.options.easing](\n            // x, t, b, c, d\n            percent, time, 0, 100, this.options.duration);\n            // 1、防止 progress 超出 100\n            // 2、通过 easing 函数返回的值可能悬停 99.7，加 0.9 让进度达到阈值\n            if (this.progress + 0.9 >= WaveLoading.progressThreshold) {\n                this.progress = WaveLoading.progressThreshold;\n            }\n        }\n    };\n    /**\n     * 根据进度计算波纹 offsetTop 值\n     */\n    WaveLoading.prototype.calcOffsetTop = function () {\n        // 退出以提高性能\n        if (!this.isCompletedImmediately &&\n            this.progress >= WaveLoading.progressThreshold) {\n            return;\n        }\n        var maxCrestHeight = Math.max.apply(Math, this.options.crestHeight);\n        var top = this.progress === 100\n            ? -maxCrestHeight\n            : Math.ceil(((100 - this.progress) / 100) * this.canvasHeight + maxCrestHeight);\n        this.setOffsetTop(top);\n    };\n    /**\n     * 窗口尺寸调整事件\n     */\n    WaveLoading.prototype.waveLoadingResizeEvent = function () {\n        var _this = this;\n        this.onResize(function () {\n            _this.halfCH = _this.canvasHeight / 2;\n            if (_this.progress === 100) {\n                _this.draw();\n            }\n        });\n    };\n    /**\n     * 方法：动态设置属性值\n     */\n    WaveLoading.prototype.setOptions = function (newOptions) {\n        if (!this.isRunningSupported || !utils_1.isPlainObject(newOptions))\n            return;\n        // 调用 Wave 更新项\n        _super.prototype.setOptions.call(this, newOptions);\n        for (var property in newOptions) {\n            if (Object.hasOwnProperty.call(newOptions, property) &&\n                plainOptionsWL.indexOf(property) !== -1) {\n                var newValue = newOptions[property];\n                this.options[property] = newValue;\n                if (property === 'borderRadius') {\n                    this.setCanvasStyle();\n                }\n            }\n        }\n    };\n    /**\n     * 方法：让进度立即加载完成\n     */\n    WaveLoading.prototype.done = function () {\n        if (this.isRunningSupported && !this.isCompletedImmediately) {\n            this.isCompletedImmediately = true;\n        }\n    };\n    /**\n     * 事件：进度每次改变的时候触发\n     */\n    WaveLoading.prototype.onProgress = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES_WAVE_LOADING.PROGRESS], args));\n        return this;\n    };\n    /**\n     * 事件：进度加载到 100% 后触发\n     */\n    WaveLoading.prototype.onFinished = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES_WAVE_LOADING.FINISHED], args));\n        return this;\n    };\n    WaveLoading.defaultConfig = {\n        num: 1,\n        // [font style][font weight][font size][font family]\n        // 文本样式，同css一样，必须包含 [font size] 和 [font family]\n        font: 'normal 400 16px Arial',\n        // 文本颜色\n        textColor: '#333',\n        // 进度文本模板\n        textFormatter: 'loading...%d%',\n        fill: true,\n        line: false,\n        // 填充的背景色\n        fillColor: '#27C9E5',\n        // 画布外边框圆角\n        borderRadius: '50%',\n        // 线条横向偏移值，距离canvas画布左边的偏移值\n        // (0, 1)表示容器宽度的倍数，0 & [1, +∞)表示具体数值\n        offsetLeft: 0,\n        // 波峰高度，(0, 1)表示容器高度的倍数，0 & [1, +∞)表示具体数值\n        crestHeight: 4,\n        // 波纹个数，即正弦周期个数\n        crestCount: 1,\n        // 波浪的运动速度\n        speed: 0.3,\n        // 加载到 99% 的时长，单位毫秒(ms)\n        // 用时越久，越慢加载到 99%。\n        duration: 5000,\n        // 加载过程的运动效果，\n        // 目前支持匀速(linear)，先加速再减速(swing)，两种\n        easing: 'swing',\n    };\n    // 进度阈值\n    WaveLoading.progressThreshold = 99.99;\n    return WaveLoading;\n}(wave_1.default));\nexports.default = WaveLoading;\n"],"sourceRoot":""}